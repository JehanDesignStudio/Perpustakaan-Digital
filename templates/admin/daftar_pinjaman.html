{% extends 'admin/layout.html' %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
  <h3 class="fw-bold text-primary mb-0">
    <i class="bi bi-book-half me-1"></i> Daftar Peminjaman Buku
  </h3>
</div>

<div class="table-responsive rounded shadow-sm">
  <table class="table table-bordered table-hover align-middle mb-0">
    <thead class="table-dark text-light text-center">
      <tr>
        <th>Pengunjung</th>
        <th>Judul Buku</th>
        <th>Tanggal Pinjam</th>
        <th>Tanggal Kembali</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {% for p in pinjaman %}
      <tr>
        <td class="fw-semibold text-primary">{{ p.username }}</td>
        <td>{{ p.judul }}</td>
        <td class="text-center">
          {% if p.tanggal_pinjam %}
            <span class="badge bg-info text-dark">{{ p.tanggal_pinjam.strftime('%d-%m-%Y') }}</span>
          {% else %}
            <span class="text-muted">-</span>
          {% endif %}
        </td>
        <td class="text-center">
          {% if p.tanggal_kembali %}
            <span class="badge bg-light text-dark">{{ p.tanggal_kembali.strftime('%d-%m-%Y') }}</span>
          {% else %}
            <span class="text-muted">-</span>
          {% endif %}
        </td>
        <td class="text-center">
          {% if p.status == 'Dipinjam' %}
            <span class="badge bg-warning text-dark">Dipinjam</span>
          {% elif p.status == 'Dikembalikan' %}
            <span class="badge bg-success">Dikembalikan</span>
          {% else %}
            <span class="badge bg-secondary">{{ p.status }}</span>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
